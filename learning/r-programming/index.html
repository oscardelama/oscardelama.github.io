
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>R-programming - Learning by Explaining</title>
  <meta name="author" content="Oscar de Lama">

  
  <meta name="description" content="R-programming Sep 12th, 2014 11:30 am Overview and History of R Basically R is a dialect of S. Recommended Books:
* Statistical Models in S. John M &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://oscardelama.github.io/learning/r-programming">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Learning by Explaining" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Learning by Explaining</a></h1>
  
    <h2>Chunking ideas I should not forget</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:oscardelama.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">R-programming</h1>
    <p class="meta">




<time class='entry-date' datetime='2014-09-12T11:30:00-05:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:30 am</span></time></p>
  </header>
  
  <h2>Overview and History of R</h2>

<p>Basically R is a dialect of S.</p>

<p>Recommended Books:
* Statistical Models in S. John M. Chambers.
* Software for Data Analysis, Programming with R. John M. Chambers.</p>

<h2>Getting Help</h2>

<p>In R:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">?</span>subject</code></pre></div>


<h2>Vector</h2>

<p>This is the very basic object in R. It contains multiple elements of the same type.</p>

<p>We can build a vector with c() and listing its members.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Basic vector construction</span>
vec <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">8</span><span class="p">)</span>

<span class="c1"># Object class</span>
<span class="c1"># A vector is atomic: it contains a collection of elements of one type</span>
<span class="o">&gt;</span> <span class="kp">class</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;numeric&quot;</span>

<span class="c1"># Object structure summary</span>
<span class="o">&gt;</span> str<span class="p">(</span>vec<span class="p">)</span>
 atomic <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span> <span class="m">2</span> <span class="m">5</span> <span class="m">8</span>
 <span class="o">-</span> <span class="kp">attr</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;comment&quot;</span><span class="p">)</span><span class="o">=</span> chr <span class="s">&quot;A dummy sample&quot;</span>

 <span class="c1"># Object length</span>
 <span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>vec<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>

<span class="c1"># We can freely attach a comment to the object</span>
<span class="o">&gt;</span> <span class="kp">comment</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="kc">NULL</span>
<span class="o">&gt;</span> <span class="kp">comment</span><span class="p">(</span>vec<span class="p">)</span> <span class="o">&lt;-</span> <span class="s">&quot;A dummy sample&quot;</span>
<span class="o">&gt;</span> <span class="kp">comment</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;A dummy sample&quot;</span>

<span class="c1"># Names of the vector elements</span>
<span class="o">&gt;</span> <span class="kp">names</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="kc">NULL</span>
<span class="o">&gt;</span> <span class="kp">names</span><span class="p">(</span>vec<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;two&quot;</span><span class="p">,</span> <span class="s">&quot;five&quot;</span><span class="p">,</span> <span class="s">&quot;eight&quot;</span><span class="p">)</span>
vec
  two  five eight
    <span class="m">2</span>     <span class="m">5</span>     <span class="m">8</span>
<span class="c1"># We can use those names to select vector elements</span>
<span class="o">&gt;</span> vec<span class="p">[</span><span class="s">&quot;five&quot;</span><span class="p">]</span>
five
   <span class="m">5</span>
<span class="c1">#However, it is still a vector</span>
<span class="o">&gt;</span> <span class="kp">class</span><span class="p">(</span>vec<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;numeric&quot;</span>

<span class="c1"># Object dimensions.</span>
<span class="c1"># The vector is &quot;dimensionless&quot;,  a matrix, array or data frame are not.</span>
<span class="o">&gt;</span> <span class="kp">dim</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="kc">NULL</span>
<span class="c1"># There is name for each dimension</span>
<span class="o">&gt;</span> <span class="kp">dimnames</span><span class="p">(</span>vec<span class="p">)</span>
  <span class="kc">NULL</span></code></pre></div>


<h3>Handling Vector Content</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Append elements</span>
<span class="o">&gt;</span> vec <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">8</span><span class="p">)</span>
<span class="o">&gt;</span> vec
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span> <span class="m">5</span> <span class="m">8</span>
<span class="o">&gt;</span> vec_ext <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span>vec<span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="m">98</span><span class="p">,</span> <span class="m">99</span><span class="p">))</span>
<span class="o">&gt;</span> vec_ext
<span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">2</span>  <span class="m">5</span>  <span class="m">8</span> <span class="m">98</span> <span class="m">99</span>

<span class="c1"># Insert new element at any position</span>
<span class="o">&gt;</span> vec_mod <span class="o">&lt;-</span> <span class="kp">append</span><span class="p">(</span>vec<span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="m">98</span><span class="p">,</span><span class="m">99</span><span class="p">),</span> after<span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="o">&gt;</span> vec_mod
<span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">2</span>  <span class="m">5</span> <span class="m">98</span> <span class="m">99</span>  <span class="m">8</span>

<span class="c1"># Build a vector from other vectors</span>
<span class="c1"># e.g. prefix and suffix a vector</span>
<span class="o">&gt;</span> vec2 <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">81</span><span class="p">),</span> vec<span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="m">98</span><span class="p">,</span><span class="m">99</span><span class="p">))</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">80</span> <span class="m">81</span>  <span class="m">2</span>  <span class="m">5</span>  <span class="m">8</span> <span class="m">98</span> <span class="m">99</span></code></pre></div>


<h3>Type Coercion (Type Casting)</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># We can cast a vector with one type of content to another one</span>
vec <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">8</span><span class="p">)</span>

<span class="c1"># As character elements</span>
vec_tect <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>vec<span class="p">)</span>
vec_tect <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>vec<span class="p">)</span>
vec_tect
  <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;2&quot;</span> <span class="s">&quot;5&quot;</span> <span class="s">&quot;8&quot;</span>

<span class="c1"># As logical elements</span>
<span class="c1"># Zero is FALSE, otherwise is TRUE</span>
vec_log <span class="o">&lt;-</span> <span class="kp">as.logical</span><span class="p">(</span>vec<span class="p">)</span>
vec_log
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span> <span class="kc">TRUE</span> <span class="kc">TRUE</span></code></pre></div>


<h2>Matrix</h2>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Basic matrix construction</span>
<span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> nrow<span class="o">=</span><span class="m">2</span><span class="p">,</span> ncol<span class="o">=</span><span class="m">3</span><span class="p">)</span>

<span class="c1"># Notice how the values are assigned column-wise.</span>
<span class="c1"># As a vector, all the matrix elements are of the same type.</span>
<span class="c1"># We can think of the matrix as a vector segmented in columns</span>
<span class="o">&gt;</span> mtx
     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span> <span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span>    <span class="m">1</span>    <span class="m">3</span>    <span class="m">5</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span>    <span class="m">2</span>    <span class="m">4</span>    <span class="m">6</span>

<span class="c1"># Object class</span>
<span class="o">&gt;</span> <span class="kp">class</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;matrix&quot;</span>

<span class="c1"># Object length</span>
<span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">6</span>

<span class="c1"># Number of columns and rows</span>
<span class="o">&gt;</span> <span class="kp">nrow</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="o">&gt;</span> <span class="kp">ncol</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>

<span class="c1"># Object structure summary</span>
<span class="o">&gt;</span> str<span class="p">(</span>mtx<span class="p">)</span>
 int <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span>

<span class="c1"># Object dimensions.</span>
<span class="o">&gt;</span> <span class="kp">dim</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span> <span class="m">3</span>

<span class="c1"># Names of each object dimension</span>
<span class="o">&gt;</span> <span class="kp">dimnames</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="kc">NULL</span></code></pre></div>


<h3>Handling Matrix Content</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># cbind and rbind are more powerful way to build a matrix</span>
<span class="c1"># Each parameter in the call becomes a column of</span>
<span class="c1"># the resulting matrix.</span>
<span class="c1"># The smaller parameters (with smaller count of elements)</span>
<span class="c1"># are recycled, so they have to be a sub-multiple of</span>
<span class="c1"># the largest one. Otherwise you will get a warning message.</span>
<span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kp">cbind</span><span class="p">(</span>seq<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> quarter<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> bin<span class="o">=</span><span class="m">0</span><span class="o">:</span><span class="m">1</span><span class="p">)</span>
<span class="o">&gt;</span> mtx
     seq quarter bin
<span class="p">[</span><span class="m">1</span><span class="p">,]</span>   <span class="m">1</span>       <span class="m">1</span>   <span class="m">0</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span>   <span class="m">2</span>       <span class="m">2</span>   <span class="m">1</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span>   <span class="m">3</span>       <span class="m">3</span>   <span class="m">0</span>
<span class="p">[</span><span class="m">4</span><span class="p">,]</span>   <span class="m">4</span>       <span class="m">4</span>   <span class="m">1</span>
<span class="p">[</span><span class="m">5</span><span class="p">,]</span>   <span class="m">5</span>       <span class="m">1</span>   <span class="m">0</span>
<span class="p">[</span><span class="m">6</span><span class="p">,]</span>   <span class="m">6</span>       <span class="m">2</span>   <span class="m">1</span>
<span class="p">[</span><span class="m">7</span><span class="p">,]</span>   <span class="m">7</span>       <span class="m">3</span>   <span class="m">0</span>
<span class="p">[</span><span class="m">8</span><span class="p">,]</span>   <span class="m">8</span>       <span class="m">4</span>   <span class="m">1</span>

<span class="c1"># Get the column names</span>
<span class="o">&gt;</span> <span class="kp">colnames</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;seq&quot;</span>     <span class="s">&quot;quarter&quot;</span> <span class="s">&quot;bin&quot;</span>

<span class="c1"># We can build the same matrix using:</span>
<span class="o">&gt;</span> seq<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">8</span>
<span class="o">&gt;</span> quarter<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span>
<span class="o">&gt;</span> bin<span class="o">=</span><span class="m">0</span><span class="o">:</span><span class="m">1</span>
<span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kp">cbind</span><span class="p">(</span><span class="kp">seq</span><span class="p">,</span> quarter<span class="p">,</span> bin<span class="p">)</span>

<span class="c1"># The name of the columns once again will be</span>
<span class="o">&gt;</span> <span class="kp">colnames</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;seq&quot;</span>     <span class="s">&quot;quarter&quot;</span> <span class="s">&quot;bin&quot;</span>

<span class="c1"># row names</span>
<span class="o">&gt;</span> <span class="kp">row.names</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="kc">NULL</span>

<span class="c1"># The matrix structure</span>
<span class="o">&gt;</span> str<span class="p">(</span>mtx<span class="p">)</span>
 int <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">8</span> <span class="m">1</span> <span class="m">2</span> <span class="kc">...</span>
 <span class="o">-</span> <span class="kp">attr</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;dimnames&quot;</span><span class="p">)</span><span class="o">=</span>List of <span class="m">2</span>
  <span class="m">..</span><span class="o">$</span> <span class="o">:</span> <span class="kc">NULL</span>
  <span class="m">..</span><span class="o">$</span> <span class="o">:</span> chr <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span> <span class="s">&quot;seq&quot;</span> <span class="s">&quot;quarter&quot;</span> <span class="s">&quot;bin&quot;</span>

<span class="c1"># You can flat (&quot;vectorize&quot;) a matrix with c()</span>
<span class="o">&gt;</span> vec <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="o">&gt;</span> vec
 <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">8</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span>

<span class="c1"># In the same way you can use mtx[[i]] to traverse mtx as a vector</span>
<span class="o">&gt;</span> mtx<span class="p">[[</span><span class="m">5</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">5</span>

<span class="c1"># All the matrix elements should have the same type.</span>
<span class="c1"># Any attempt to use mixed types will cause the casting of all elements to</span>
<span class="c1"># a broader type</span>
<span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kp">cbind</span><span class="p">(</span>seq<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> quarter<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> gender<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;male&quot;</span><span class="p">,</span> <span class="s">&quot;female&quot;</span><span class="p">))</span>
<span class="o">&gt;</span> mtx
     seq quarter gender
<span class="p">[</span><span class="m">1</span><span class="p">,]</span> <span class="s">&quot;1&quot;</span> <span class="s">&quot;1&quot;</span>     <span class="s">&quot;male&quot;</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span> <span class="s">&quot;2&quot;</span> <span class="s">&quot;2&quot;</span>     <span class="s">&quot;female&quot;</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span> <span class="s">&quot;3&quot;</span> <span class="s">&quot;3&quot;</span>     <span class="s">&quot;male&quot;</span>
<span class="p">[</span><span class="m">4</span><span class="p">,]</span> <span class="s">&quot;4&quot;</span> <span class="s">&quot;4&quot;</span>     <span class="s">&quot;female&quot;</span>
<span class="p">[</span><span class="m">5</span><span class="p">,]</span> <span class="s">&quot;5&quot;</span> <span class="s">&quot;1&quot;</span>     <span class="s">&quot;male&quot;</span>
<span class="p">[</span><span class="m">6</span><span class="p">,]</span> <span class="s">&quot;6&quot;</span> <span class="s">&quot;2&quot;</span>     <span class="s">&quot;female&quot;</span>
<span class="p">[</span><span class="m">7</span><span class="p">,]</span> <span class="s">&quot;7&quot;</span> <span class="s">&quot;3&quot;</span>     <span class="s">&quot;male&quot;</span>
<span class="p">[</span><span class="m">8</span><span class="p">,]</span> <span class="s">&quot;8&quot;</span> <span class="s">&quot;4&quot;</span>     <span class="s">&quot;female&quot;</span>

<span class="c1"># row wise binding</span>
<span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kp">rbind</span><span class="p">(</span>seq<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> quarter<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> bin<span class="o">=</span><span class="m">0</span><span class="o">:</span><span class="m">1</span><span class="p">)</span>
<span class="o">&gt;</span> mtx
        <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span> <span class="p">[,</span><span class="m">3</span><span class="p">]</span> <span class="p">[,</span><span class="m">4</span><span class="p">]</span> <span class="p">[,</span><span class="m">5</span><span class="p">]</span> <span class="p">[,</span><span class="m">6</span><span class="p">]</span> <span class="p">[,</span><span class="m">7</span><span class="p">]</span> <span class="p">[,</span><span class="m">8</span><span class="p">]</span>
seq        <span class="m">1</span>    <span class="m">2</span>    <span class="m">3</span>    <span class="m">4</span>    <span class="m">5</span>    <span class="m">6</span>    <span class="m">7</span>    <span class="m">8</span>
quarter    <span class="m">1</span>    <span class="m">2</span>    <span class="m">3</span>    <span class="m">4</span>    <span class="m">1</span>    <span class="m">2</span>    <span class="m">3</span>    <span class="m">4</span>
bin        <span class="m">0</span>    <span class="m">1</span>    <span class="m">0</span>    <span class="m">1</span>    <span class="m">0</span>    <span class="m">1</span>    <span class="m">0</span>    <span class="m">1</span>

<span class="c1"># row names</span>
<span class="o">&gt;</span> <span class="kp">row.names</span><span class="p">(</span>mtx<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;seq&quot;</span>     <span class="s">&quot;quarter&quot;</span> <span class="s">&quot;bin&quot;</span>

<span class="c1"># The matrix structure</span>
<span class="o">&gt;</span> str<span class="p">(</span>mtx<span class="p">)</span>
 int <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">]</span> <span class="m">1</span> <span class="m">1</span> <span class="m">0</span> <span class="m">2</span> <span class="m">2</span> <span class="m">1</span> <span class="m">3</span> <span class="m">3</span> <span class="m">0</span> <span class="m">4</span> <span class="kc">...</span>
 <span class="o">-</span> <span class="kp">attr</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;dimnames&quot;</span><span class="p">)</span><span class="o">=</span>List of <span class="m">2</span>
  <span class="m">..</span><span class="o">$</span> <span class="o">:</span> chr <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">]</span> <span class="s">&quot;seq&quot;</span> <span class="s">&quot;quarter&quot;</span> <span class="s">&quot;bin&quot;</span>
  <span class="m">..</span><span class="o">$</span> <span class="o">:</span> <span class="kc">NULL</span></code></pre></div>


<h2>List</h2>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">&gt;</span> l <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="s">&quot;Hello&quot;</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="m">18</span><span class="p">,</span><span class="m">65</span><span class="p">))</span>
<span class="o">&gt;</span> l
<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>

<span class="p">[[</span><span class="m">2</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;Hello&quot;</span>

<span class="p">[[</span><span class="m">3</span><span class="p">]]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">18</span> <span class="m">65</span></code></pre></div>


<h2>Handling Environments</h2>

<ul>
<li>rm: Remove objects from a specified environment</li>
<li>ls: List objects</li>
<li>objects</li>
</ul>


<h2>Handling packages</h2>

<ul>
<li>install.packages</li>
<li>update.packages</li>
<li>library:  load a library</li>
<li>packageVersion: Find the version number of a package</li>
</ul>


<h2>Factor</h2>

<p>Is <em>a special type</em> of vector which is used to create to represent categorical data.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Lets build a vector with factor values</span>
<span class="o">&gt;</span> has_stock <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">)</span>
<span class="o">&gt;</span> has_stock
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;yes&quot;</span> <span class="s">&quot;yes&quot;</span> <span class="s">&quot;no&quot;</span>  <span class="s">&quot;yes&quot;</span> <span class="s">&quot;no&quot;</span>

<span class="c1"># Convert the vector to an *unordered* factor</span>
<span class="o">&gt;</span> fctr <span class="o">&lt;-</span> <span class="kp">factor</span><span class="p">(</span>has_stock<span class="p">)</span>
<span class="c1"># Notice the following values are not quoted: they are not</span>
<span class="c1"># characters, they are factors!</span>
<span class="c1"># Also notice the sequence of the levels</span>
<span class="o">&gt;</span> fctr
<span class="p">[</span><span class="m">1</span><span class="p">]</span> yes yes no  yes no
Levels<span class="o">:</span> no yes

<span class="c1"># Object class</span>
<span class="o">&gt;</span> <span class="kp">class</span><span class="p">(</span>fctr<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;factor&quot;</span>

<span class="c1"># Object structure summary</span>
<span class="o">&gt;</span> str<span class="p">(</span>fctr<span class="p">)</span>
 Factor w<span class="o">/</span> <span class="m">2</span> levels <span class="s">&quot;no&quot;</span><span class="p">,</span><span class="s">&quot;yes&quot;</span><span class="o">:</span> <span class="m">2</span> <span class="m">2</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span>

<span class="c1"># Object length</span>
<span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>fctr<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">5</span>

<span class="c1"># Factors has the attribute levels, which returns the encoded</span>
<span class="c1"># labels. The factors are alphabetically as an ordered sequence.</span>
<span class="c1"># Each factor is encoded with its index in that sequence.</span>
<span class="c1"># i.e. {1:no, 2:yes}</span>
<span class="o">&gt;</span> <span class="kp">levels</span><span class="p">(</span>fctr<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;no&quot;</span>  <span class="s">&quot;yes&quot;</span>

<span class="c1"># You can specify the encoding with the levels parameter</span>
<span class="o">&gt;</span> fctr <span class="o">&lt;-</span> <span class="kp">factor</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">),</span>
<span class="o">+</span>    levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">))</span>
<span class="c1"># Now the the factors are encoded as specified</span>
<span class="o">&gt;</span> <span class="kp">levels</span><span class="p">(</span>fctr<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;yes&quot;</span> <span class="s">&quot;no&quot;</span>
<span class="o">&gt;</span> str<span class="p">(</span>fctr<span class="p">)</span>
 Factor w<span class="o">/</span> <span class="m">2</span> levels <span class="s">&quot;yes&quot;</span><span class="p">,</span><span class="s">&quot;no&quot;</span><span class="o">:</span> <span class="m">1</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span> <span class="m">2</span></code></pre></div>


<h3>Handling Factors Content</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># *table()* returns an object of &#39;table&#39; type with the frequency</span>
<span class="c1"># of each disticnt factor</span>
<span class="o">&gt;</span> fctr <span class="o">&lt;-</span> <span class="kp">factor</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">,</span> <span class="s">&quot;yes&quot;</span><span class="p">,</span> <span class="s">&quot;no&quot;</span><span class="p">))</span>
<span class="o">&gt;</span> <span class="kp">table</span><span class="p">(</span>fctr<span class="p">)</span>
fctr
 no yes
  <span class="m">2</span>   <span class="m">3</span>

<span class="c1"># Unclass() allows the access to the coded values</span>
<span class="o">&gt;</span> ucl <span class="o">&lt;-</span> <span class="kp">unclass</span><span class="p">(</span>fctr<span class="p">)</span>
<span class="o">&gt;</span> str<span class="p">(</span>ucl<span class="p">)</span>
 atomic <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">]</span> <span class="m">2</span> <span class="m">2</span> <span class="m">1</span> <span class="m">2</span> <span class="m">1</span>
 <span class="o">-</span> <span class="kp">attr</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="s">&quot;levels&quot;</span><span class="p">)</span><span class="o">=</span> chr <span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">]</span> <span class="s">&quot;no&quot;</span> <span class="s">&quot;yes&quot;</span>
<span class="c1"># Get the factor as label</span>
<span class="o">&gt;</span> fctr<span class="p">[</span><span class="m">2</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> yes
Levels<span class="o">:</span> no yes
<span class="c1"># Get the factor as code</span>
 <span class="o">&gt;</span> ucl<span class="p">[</span><span class="m">2</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span></code></pre></div>


<h2>Missing Values</h2>

<p><em>NA</em>: Not Available. Missing value.
<em>NaN</em>: Has a &ldquo;numeric nature&rdquo; but is not a numeric value (e.g the value of 0/0. They are used to represent missing numeric values.</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># is.na() and is.nan() are used to identify this missing values.</span>
<span class="c1"># Not Available</span>
<span class="o">&gt;</span> notAvail <span class="o">&lt;-</span> <span class="kc">NA</span>
<span class="o">&gt;</span> <span class="kp">is.na</span><span class="p">(</span>notAvail<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>

<span class="c1"># Not a Number</span>
<span class="o">&gt;</span> notNumber <span class="o">&lt;-</span> NAN
<span class="o">&gt;</span> <span class="kp">is.nan</span><span class="p">(</span>notNumber<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>

<span class="c1"># A NaN is a missing value</span>
<span class="o">&gt;</span> <span class="kp">is.na</span><span class="p">(</span>notNumber<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>

<span class="c1"># But a missing value is not a NaN</span>
<span class="o">&gt;</span> <span class="kp">is.nan</span><span class="p">(</span>notAvail<span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">FALSE</span></code></pre></div>


<h2>Sequences</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> <span class="kp">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">10</span><span class="p">,</span>by<span class="o">=</span><span class="m">2</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">3</span> <span class="m">5</span> <span class="m">7</span> <span class="m">9</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">10</span><span class="p">,</span>length<span class="o">=</span><span class="m">4</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">1</span>  <span class="m">4</span>  <span class="m">7</span> <span class="m">10</span>
</span><span class='line'>
</span><span class='line'><span class="o">&gt;</span> x <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">13</span><span class="p">,</span><span class="m">21</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">seq</span><span class="p">(</span>along <span class="o">=</span> x<span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">seq_along</span><span class="p">(</span>x<span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span>
</span></code></pre></td></tr></table></div></figure>


<p>ifelse(condition, yes_value, no_value)</p>

<h2>Subsetting</h2>

<p>Operators to extract subsets of R objects:</p>

<ul>
<li>[   Always returns an object of the same class as the source;</li>
<li>[[  Extract elements of a list or a data frame by name or index. Extracts a single element.</li>
<li>$   Extract elements of a list or a data frame by name</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> vect <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">20</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Extract the element with a given index</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span><span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[[</span><span class="m">3</span><span class="p">]]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Extract the elements with the given indices</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="p">)]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span> <span class="m">5</span> <span class="m">7</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span><span class="m">3</span><span class="o">:</span><span class="m">7</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Extract the elements flagged with a TRUE value</span>
</span><span class='line'><span class="c1">#Notice the logical selector values are recycled</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="kc">TRUE</span><span class="p">,</span><span class="kc">FALSE</span><span class="p">)]</span>
</span><span class='line'> <span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">1</span>  <span class="m">3</span>  <span class="m">5</span>  <span class="m">7</span>  <span class="m">9</span> <span class="m">11</span> <span class="m">13</span> <span class="m">15</span> <span class="m">17</span> <span class="m">19</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Extract the elements multiple of 5</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span>vect <span class="o">%%</span> <span class="m">5</span> <span class="o">==</span> <span class="m">0</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">5</span> <span class="m">10</span> <span class="m">15</span> <span class="m">20</span>
</span><span class='line'><span class="c1"># Notice the condition is producing a vector of logical values</span>
</span><span class='line'><span class="c1"># selecting the chosen values</span>
</span><span class='line'>cond <span class="o">&lt;-</span> vect <span class="o">%%</span> <span class="m">5</span> <span class="o">==</span> <span class="m">0</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span>cond<span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">5</span> <span class="m">10</span> <span class="m">15</span> <span class="m">20</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Selecting a value with an out of range index</span>
</span><span class='line'><span class="o">&gt;</span> vect<span class="p">[</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">NA</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Subsetting a Matrix</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Remember the first coordinate is the row and the second is the column.</span>
</span><span class='line'><span class="c1"># However, the matrix -by default- is filled column-wise.</span>
</span><span class='line'><span class="o">&gt;</span> mtx <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">6</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> mtx
</span><span class='line'>     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span> <span class="p">[,</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">,]</span>    <span class="m">1</span>    <span class="m">3</span>    <span class="m">5</span>
</span><span class='line'><span class="p">[</span><span class="m">2</span><span class="p">,]</span>    <span class="m">2</span>    <span class="m">4</span>    <span class="m">6</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Select an element by its indices</span>
</span><span class='line'><span class="o">&gt;</span> mtx<span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">6</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># If one index is missing, the whole row/column is selected</span>
</span><span class='line'><span class="o">&gt;</span> mtx<span class="p">[,</span><span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span> <span class="m">4</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Select elements in second row and 2th and 3rd columns</span>
</span><span class='line'><span class="o">&gt;</span> mtx<span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="o">:</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">4</span> <span class="m">6</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The result is a vector</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">class</span><span class="p">(</span>mtx<span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="o">:</span><span class="m">3</span><span class="p">])</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;integer&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># We can select a sub-matrix using the setting drop = FALSE</span>
</span><span class='line'><span class="o">&gt;</span> mtx<span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">2</span><span class="o">:</span><span class="m">3</span><span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class='line'>     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">,]</span>    <span class="m">4</span>    <span class="m">6</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#Selecting a value with an out of range index</span>
</span><span class='line'><span class="o">&gt;</span> mtx<span class="p">[</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">]</span>
</span><span class='line'>Error <span class="kr">in</span> mtx<span class="p">[</span><span class="m">3</span><span class="p">,</span> <span class="m">1</span><span class="p">]</span> <span class="o">:</span> subscript out of bounds
</span></code></pre></td></tr></table></div></figure>


<h3>Subsetting a List</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> lst <span class="o">&lt;-</span> <span class="kt">list</span><span class="p">(</span>seq<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> age<span class="o">=</span><span class="m">45</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> lst
</span><span class='line'><span class="o">$</span><span class="kp">seq</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</span><span class='line'>
</span><span class='line'><span class="o">$</span>age
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Selecting with an [index] returns a list (name, and value) with the given element</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="m">2</span><span class="p">]</span>
</span><span class='line'><span class="o">$</span>age
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Selecting with an [[index]] returns only value with the given element</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="m">2</span><span class="p">]]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'><span class="c1"># We can use the element name [[name]] instead of the index</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="s">&quot;age&quot;</span><span class="p">]]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="s">&quot;age&quot;</span><span class="p">]</span>
</span><span class='line'><span class="o">$</span>age
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The $ operator extracts the list element in the same way as [[name]]</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="o">$</span>age
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">45</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Extracting a non existent element</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="m">8</span><span class="p">]</span>
</span><span class='line'><span class="o">$&lt;</span><span class="kc">NA</span><span class="o">&gt;</span>
</span><span class='line'><span class="kc">NULL</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="s">&quot;hi&quot;</span><span class="p">]</span>
</span><span class='line'><span class="o">$&lt;</span><span class="kc">NA</span><span class="o">&gt;</span>
</span><span class='line'><span class="kc">NULL</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="m">8</span><span class="p">]]</span>
</span><span class='line'>Error <span class="kr">in</span> lst<span class="p">[[</span><span class="m">8</span><span class="p">]]</span> <span class="o">:</span> subscript out of bounds
</span></code></pre></td></tr></table></div></figure>


<h3>Manipulating a data Frame</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span> col1<span class="o">=</span>rnorm<span class="p">(</span><span class="m">10</span><span class="p">),</span> col2<span class="o">=</span>runif<span class="p">(</span><span class="m">10</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Select rows 1 to 3 and column named &quot;col2&quot;</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="s">&quot;col2&quot;</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.3847243</span> <span class="m">0.4879190</span> <span class="m">0.2292318</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Select all rows but the first three ones</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">),]</span>
</span><span class='line'>          col1      col2
</span><span class='line'><span class="m">4</span>   <span class="m">0.33903024</span> <span class="m">0.2793928</span>
</span><span class='line'><span class="m">5</span>  <span class="m">-1.45067820</span> <span class="m">0.7794572</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Select rows by two logical conditions joined by logical &quot;and&quot; (&amp;).</span>
</span><span class='line'><span class="c1"># The comma is to indicate there is not restriction about the columns,</span>
</span><span class='line'><span class="c1"># this way all the columns in the data frame will appear in the output</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[(</span>df<span class="o">$</span>col1<span class="o">&gt;</span><span class="m">0</span> <span class="o">&amp;</span> df<span class="o">$</span>col2<span class="o">&gt;</span><span class="m">0</span><span class="p">),</span> <span class="p">]</span>
</span><span class='line'>       col1      col2
</span><span class='line'><span class="m">2</span> <span class="m">0.4996887</span> <span class="m">0.4879190</span>
</span><span class='line'><span class="m">4</span> <span class="m">0.3390302</span> <span class="m">0.2793928</span>
</span><span class='line'><span class="o">:</span>
</span><span class='line'><span class="c1"># This selection is similar to the previous one</span>
</span><span class='line'><span class="c1"># but the conditions are joined by a logical &quot;or&quot; (|)</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[(</span>df<span class="o">$</span>col1<span class="o">&gt;</span><span class="m">0</span> <span class="o">|</span> df<span class="o">$</span>col2<span class="o">&gt;</span><span class="m">0</span><span class="p">),</span> <span class="p">]</span>
</span><span class='line'>          col1      col2
</span><span class='line'><span class="m">1</span>  <span class="m">-0.28077454</span> <span class="m">0.3847243</span>
</span><span class='line'><span class="m">2</span>   <span class="m">0.49968870</span> <span class="m">0.4879190</span>
</span><span class='line'><span class="o">:</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The function which returns a vector with the indices</span>
</span><span class='line'><span class="c1"># of the elements satisfying the given condition</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">which</span><span class="p">(</span>df<span class="o">$</span>col1<span class="o">&gt;</span><span class="m">0</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span> <span class="m">4</span> <span class="m">6</span> <span class="m">7</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The sort function you can sort the data</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">sort</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">)</span>
</span><span class='line'> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">-1.45067820</span> <span class="m">-0.37078268</span> <span class="m">-0.32129470</span> <span class="m">-0.28077454</span> <span class="m">-0.10086351</span> <span class="m">-0.09041061</span>
</span><span class='line'> <span class="p">[</span><span class="m">7</span><span class="p">]</span>  <span class="m">0.33903024</span>  <span class="m">0.49968870</span>  <span class="m">0.59671933</span>  <span class="m">1.57662348</span>
</span><span class='line'> <span class="c1"># By default the sort is for increasing values</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">sort</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">,</span> decreasing <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</span><span class='line'> <span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">1.57662348</span>  <span class="m">0.59671933</span>  <span class="m">0.49968870</span>  <span class="m">0.33903024</span> <span class="m">-0.09041061</span> <span class="m">-0.10086351</span>
</span><span class='line'> <span class="p">[</span><span class="m">7</span><span class="p">]</span> <span class="m">-0.28077454</span> <span class="m">-0.32129470</span> <span class="m">-0.37078268</span> <span class="m">-1.45067820</span>
</span><span class='line'>
</span><span class='line'>The order of the rows <span class="kr">in</span> the <span class="kt">data frame</span> can be sort using the order <span class="kr">function</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[</span><span class="kp">order</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">,</span> decreasing <span class="o">=</span> <span class="bp">T</span><span class="p">),]</span>
</span><span class='line'>          col1      col2
</span><span class='line'><span class="m">6</span>   <span class="m">1.57662348</span> <span class="m">0.3149501</span>
</span><span class='line'><span class="m">7</span>   <span class="m">0.59671933</span> <span class="m">0.9490971</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The order function returns the row indices sorted as specified</span>
</span><span class='line'><span class="kp">order</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">,</span> decreasing <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</span><span class='line'> <span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">2</span>  <span class="m">4</span>  <span class="m">8</span>  <span class="m">3</span>  <span class="m">1</span>  <span class="m">9</span> <span class="m">10</span>  <span class="m">5</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># You can order by multiple columns</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="p">[</span><span class="kp">order</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">,</span> df<span class="o">$</span>col2<span class="p">),]</span>
</span><span class='line'>          col1      col2
</span><span class='line'><span class="m">5</span>  <span class="m">-1.45067820</span> <span class="m">0.7794572</span>
</span><span class='line'><span class="m">10</span> <span class="m">-0.37078268</span> <span class="m">0.4501038</span>
</span><span class='line'>
</span><span class='line'><span class="c1">## Add a new column  ##</span>
</span><span class='line'><span class="c1"># Notice how the new values are recycled</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="o">$</span>new <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;hi&quot;</span><span class="p">,</span> <span class="s">&quot;lo&quot;</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> df
</span><span class='line'>          col1      col2 new
</span><span class='line'><span class="m">1</span>  <span class="m">-0.28077454</span> <span class="m">0.3847243</span>  hi
</span><span class='line'><span class="m">2</span>   <span class="m">0.49968870</span> <span class="m">0.4879190</span>  lo
</span><span class='line'><span class="m">3</span>  <span class="m">-0.10086351</span> <span class="m">0.2292318</span>  hi
</span><span class='line'>
</span><span class='line'><span class="c1"># Select rows with a column value in a given list</span>
</span><span class='line'><span class="o">&gt;</span> df2<span class="p">[</span>df2<span class="o">$</span>height <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;hi&quot;</span><span class="p">),]</span>
</span><span class='line'>        col1      col2 height
</span><span class='line'><span class="m">1</span> <span class="m">-0.2807745</span> <span class="m">0.3847243</span>     hi
</span><span class='line'><span class="m">3</span> <span class="m">-0.1008635</span> <span class="m">0.2292318</span>     hi
</span><span class='line'>
</span><span class='line'><span class="c1">## Delete a column ##</span>
</span><span class='line'><span class="o">&gt;</span> df<span class="o">$</span>new <span class="o">&lt;-</span> <span class="kc">NULL</span>
</span><span class='line'><span class="o">&gt;</span> df
</span><span class='line'>          col1      col2
</span><span class='line'><span class="m">1</span>  <span class="m">-0.28077454</span> <span class="m">0.3847243</span>
</span><span class='line'><span class="m">2</span>   <span class="m">0.49968870</span> <span class="m">0.4879190</span>
</span><span class='line'>
</span><span class='line'><span class="c1">## Add a new getting a new data frame by combining columns</span>
</span><span class='line'><span class="o">&gt;</span> df2 <span class="o">&lt;-</span> <span class="kp">cbind</span><span class="p">(</span>df<span class="p">,</span> height<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;hi&quot;</span><span class="p">,</span> <span class="s">&quot;lo&quot;</span><span class="p">))</span>
</span><span class='line'><span class="o">&gt;</span> df2
</span><span class='line'>          col1      col2 height
</span><span class='line'><span class="m">1</span>  <span class="m">-0.28077454</span> <span class="m">0.3847243</span>     hi
</span><span class='line'><span class="m">2</span>   <span class="m">0.49968870</span> <span class="m">0.4879190</span>     lo
</span></code></pre></td></tr></table></div></figure>


<h4>Plyr</h4>

<p>filter(.data, &hellip;)
summarise(.data, &hellip;)
summarize(.data, &hellip;)
mutate(.data, &hellip;)
arrange(.data, &hellip;)
select(.data, &hellip;)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Sort the rows with the col1 values in ascending order</span>
</span><span class='line'>arrange<span class="p">(</span>df<span class="p">,</span> col1<span class="p">)</span>
</span><span class='line'><span class="c1"># Same as previous but with descending order</span>
</span><span class='line'>arrange<span class="p">(</span>df<span class="p">,</span> desc<span class="p">(</span>col1<span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Subsetting Nested Elements of a List</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Select the 3rd element in the first list element</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="m">1</span><span class="p">]][</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># This is interpreted as 2 indices (in two dimensions)</span>
</span><span class='line'><span class="c1"># Which is wrong for a list</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'>Error <span class="kr">in</span> lst<span class="p">[</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">]</span> <span class="o">:</span> incorrect number of dimensions
</span><span class='line'>
</span><span class='line'><span class="c1"># Select the 1st and 3rd members in the list</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">)]</span>
</span><span class='line'><span class="o">$</span><span class="kp">seq</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</span><span class='line'>
</span><span class='line'><span class="o">$&lt;</span><span class="kc">NA</span><span class="o">&gt;</span>
</span><span class='line'><span class="kc">NULL</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Select from the first list member, its 3rd element</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">)]]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># &quot;Similar&quot; subsetting with the indices not as part of a vector:</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">]]</span>
</span><span class='line'>Error <span class="kr">in</span> lst<span class="p">[[</span><span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">]]</span> <span class="o">:</span> incorrect number of subscripts
</span><span class='line'>
</span><span class='line'><span class="c1"># Partial name matching</span>
</span><span class='line'><span class="c1"># Notice the list has &quot;seq&quot; member, but it can be</span>
</span><span class='line'><span class="c1"># retrieved just mentioning part of the name</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="o">$</span>s
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</span><span class='line'>However<span class="p">,</span> martial name matching doesn<span class="s">&#39;</span><span class="err">t work with the [[name]] operator:</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="o">$</span>s
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</span><span class='line'>Unless we use the setting exact <span class="o">=</span> <span class="kc">FALSE</span>
</span><span class='line'><span class="o">&gt;</span> lst<span class="p">[[</span><span class="s">&quot;s&quot;</span><span class="p">,</span> exact <span class="o">=</span><span class="bp">F</span><span class="p">]]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Removing NA values</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># The function complete.cases() finds the indices where both vector has</span>
</span><span class='line'><span class="c1"># non NA values:</span>
</span><span class='line'><span class="o">&gt;</span> x <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="m">6</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> y <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="s">&quot;2&quot;</span><span class="p">,</span> <span class="kc">NA</span><span class="p">,</span> <span class="s">&quot;4&quot;</span><span class="p">,</span> <span class="s">&quot;5&quot;</span><span class="p">,</span> <span class="kc">NA</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> complete <span class="o">&lt;-</span> complete.cases<span class="p">(</span>x<span class="p">,</span> y<span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> x<span class="p">[</span>complete<span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">4</span>
</span><span class='line'><span class="o">&gt;</span> y<span class="p">[</span>complete<span class="p">]</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;1&quot;</span> <span class="s">&quot;2&quot;</span> <span class="s">&quot;4&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Control Structures</h2>

<h3>if</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Complete &quot;if&quot;</span>
</span><span class='line'><span class="kr">if</span><span class="p">(</span><span class="o">&lt;</span>condition<span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## do something</span>
</span><span class='line'><span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## do something else</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># &quot;if&quot; with complete &quot;else if&quot;</span>
</span><span class='line'><span class="kr">if</span><span class="p">(</span><span class="o">&lt;</span>condition1<span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## do something</span>
</span><span class='line'><span class="p">}</span> <span class="kr">else</span> <span class="kr">if</span><span class="p">(</span><span class="o">&lt;</span>condition2<span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## do something different</span>
</span><span class='line'><span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## do something different</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Valued if</span>
</span><span class='line'>y <span class="o">&lt;-</span> <span class="kr">if</span><span class="p">(</span>x <span class="o">&gt;</span> <span class="m">3</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="m">10</span>
</span><span class='line'><span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="m">0</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>for</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># In all the following cases &quot;Iterate&quot; can be a single R sentence or more</span>
</span><span class='line'><span class="c1"># than one enclosed by curly brackets {# Iterate}</span>
</span><span class='line'><span class="kr">for</span><span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">)</span> <span class="c1"># Iterate</span>
</span><span class='line'><span class="kr">for</span><span class="p">(</span>i <span class="kr">in</span> <span class="kp">seq_along</span><span class="p">(</span>x<span class="p">))</span> <span class="c1"># Iterate</span>
</span><span class='line'><span class="kr">for</span><span class="p">(</span>letter <span class="kr">in</span> x<span class="p">)</span> <span class="c1"># Iterate</span>
</span></code></pre></td></tr></table></div></figure>


<h3>while</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="kr">while</span> <span class="p">(</span><span class="o">&lt;</span>condition<span class="o">&gt;</span><span class="p">)</span> <span class="c1"># Iterate</span>
</span></code></pre></td></tr></table></div></figure>


<h3>repeat</h3>

<p>The iteration body must contain a <em>break</em> statement to terminate an otherwise never-ending loop.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="kr">repeat</span> <span class="c1"># Iterate</span>
</span></code></pre></td></tr></table></div></figure>


<h3>break and next</h3>

<p><em>next</em> is used to skip to the following iteration in a loop
<em>break</em> is used to skip a loop</p>

<h2>Functions</h2>

<p>The value returned by the function is the result of the last evaluated expression.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>f <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span><span class="o">&lt;</span>arguments<span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">## Do something interesting</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Argument Matching</h3>

<ol>
<li>Check for exact match for a named argument</li>
<li>Check for a partial match</li>
<li>Check for a positional match</li>
</ol>


<h3>Defining a Function</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>f <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>a<span class="p">,</span> b <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="kt">c</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> d <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Lazy Evaluation</h3>

<p>Arguments to functions are evaluated lazily, so they are evaluated only as needed.</p>

<h3>The “&hellip;” Argument</h3>

<p>The &hellip; argument indicate a variable number of arguments that are usually passed on to other
functions.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>myplot <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> y<span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;l&quot;</span><span class="p">,</span> <span class="kc">...</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  plot<span class="p">(</span>x<span class="p">,</span> y<span class="p">,</span> type <span class="o">=</span> type<span class="p">,</span> <span class="kc">...</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>The “&hellip;” Argument</h3>

<p>The &hellip; argument is also necessary when the number of arguments passed to the function cannot be
known in advance.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> <span class="kp">args</span><span class="p">(</span><span class="kp">paste</span><span class="p">)</span>
</span><span class='line'><span class="kr">function</span> <span class="p">(</span><span class="kc">...</span><span class="p">,</span> sep <span class="o">=</span> <span class="s">&quot; &quot;</span><span class="p">,</span> collapse <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>One catch with &hellip; is that any arguments that appear after &hellip; on the argument list must be named
explicitly and cannot be partially matched. the arguments names must be fully specified.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> <span class="kp">args</span><span class="p">(</span><span class="kp">paste</span><span class="p">)</span>
</span><span class='line'><span class="kr">function</span> <span class="p">(</span><span class="kc">...</span><span class="p">,</span> sep <span class="o">=</span> <span class="s">&quot; &quot;</span><span class="p">,</span> collapse <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">paste</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> sep <span class="o">=</span> <span class="s">&quot;:&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;a:b&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># The partial match for &quot;se&quot; is ignored! so &quot;se&quot; is another element of the &quot;...&quot; argument</span>
</span><span class='line'><span class="c1"># and concatenated together with &quot;a&quot; and &quot;b&quot;.</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">paste</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> se <span class="o">=</span> <span class="s">&quot;:&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;a b :&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Scoping Rules</h2>

<p>How does R know which value to assign to which symbol?</p>

<p>When R tries to bind a value to a symbol, it searches through a series of environments to find the
appropriate value. When you are working on the command line and need to retrieve the value of an
R object, the order is roughly</p>

<ol>
<li>Search the global environment for a symbol name matching the one requested.</li>
<li>Search the namespaces of each of the packages on the search list</li>
</ol>


<p>The search list can be found by using the search function.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="o">&gt;</span> <span class="kp">search</span><span class="p">()</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;.GlobalEnv&quot;</span> <span class="s">&quot;package:stats&quot;</span> <span class="s">&quot;package:graphics&quot;</span>
</span><span class='line'><span class="p">[</span><span class="m">4</span><span class="p">]</span> <span class="s">&quot;package:grDevices&quot;</span> <span class="s">&quot;package:utils&quot;</span> <span class="s">&quot;package:datasets&quot;</span>
</span><span class='line'><span class="p">[</span><span class="m">7</span><span class="p">]</span> <span class="s">&quot;package:methods&quot;</span> <span class="s">&quot;Autoloads&quot;</span> <span class="s">&quot;package:base&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The global environment or the user’s workspace is always the first element of the search list and the base package is always the last.</p>

<p>The order of the packages on the search list matters! User’s can configure which packages get loaded on startup so you cannot assume that there will be a set list of packages available.</p>

<p>When a user loads a package with library the namespace of that package gets put in position 2 of the search list (by default) and everything else gets shifted down the list.</p>

<p>Note that R has separate namespaces for functions and non-functions so it’s possible to have an object named c and a function named c.</p>

<h3>Scoping Rules</h3>

<ul>
<li>R uses lexical scoping or static scoping. A common alternative is dynamic scoping.</li>
<li>Related to the scoping rules is how R uses the search list to bind a value to a symbol</li>
<li>Lexical scoping turns out to be particularly useful for simplifying statistical computations</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>f <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span> y<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  x<span class="o">^</span><span class="m">2</span> <span class="o">+</span> y <span class="o">/</span> z
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this case &ldquo;z&rdquo; is called a <em>free variable</em>.</p>

<p>Lexical scoping in R means that <em>the values of free variables are searched for in the environment in which the function was defined</em>.</p>

<ul>
<li>An environment is a collection of (symbol, value) pairs, i.e. x is a symbol and 3.14 might be its value.</li>
<li>Every environment has a parent environment; it is possible for an environment to have multiple “children”</li>
<li>The only environment without a parent is the empty environment</li>
<li>A function + an environment = a <em>closure</em> or <em>function closure</em>.</li>
</ul>


<p>Searching for the value for a free variable:</p>

<ul>
<li>If the value of a symbol is not found in the environment in which a function was defined, then the search is continued in the parent environment.</li>
<li>The search continues down the sequence of parent environments until we hit the top-level environment; this usually the global environment (workspace) or the namespace of a package.</li>
<li>After the top-level environment, the search continues down the search list until we hit the emptyenvironment. If a value for a given symbol cannot be found once the empty environment is arrived at, then an error is thrown.</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>make.power <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>n<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  pow <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    x<span class="o">^</span>n
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  pow
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&gt;</span> cube <span class="o">&lt;-</span> make.power<span class="p">(</span><span class="m">3</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> square <span class="o">&lt;-</span> make.power<span class="p">(</span><span class="m">2</span><span class="p">)</span>
</span><span class='line'><span class="o">&gt;</span> cube<span class="p">(</span><span class="m">3</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">27</span>
</span><span class='line'><span class="o">&gt;</span> square<span class="p">(</span><span class="m">3</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">9</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># What’s in a function’s environment?</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">ls</span><span class="p">(</span><span class="kp">environment</span><span class="p">(</span>cube<span class="p">))</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;n&quot;</span> <span class="s">&quot;pow&quot;</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">get</span><span class="p">(</span><span class="s">&quot;n&quot;</span><span class="p">,</span> <span class="kp">environment</span><span class="p">(</span>cube<span class="p">))</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Lexical vs. Dynamic Scoping</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>y <span class="o">&lt;-</span> <span class="m">10</span> <span class="c1">## One variable y</span>
</span><span class='line'>f <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  y <span class="o">&lt;-</span> <span class="m">2</span>  <span class="c1">## A second variable y !!</span>
</span><span class='line'>  y<span class="o">^</span><span class="m">2</span> <span class="o">+</span> g<span class="p">(</span>x<span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>g <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  x<span class="o">*</span>y
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>With <em>lexical scoping</em> the value of y in the function g is looked up in the environment in which the function was defined, in this case the global environment, so the value of y is 10.</li>
<li>With <em>dynamic scoping</em>, the value of y is looked up in the environment from which the function was called (sometimes referred to as the calling environment). So the value of y would be 2.</li>
</ul>


<h2>Date and Time</h2>

<ul>
<li>Dates are represented by the Date class</li>
<li>Times are represented by the POSIXct or the POSIXlt class</li>
<li>Dates are stored internally as the number of days since 1970-01-01</li>
<li>Times are stored internally as the number of seconds since 1970-01-01</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># We can &quot;unclass&quot; a date and get the number of days since 1970-01-01</span>
</span><span class='line'><span class="kp">unclass</span><span class="p">(</span><span class="kp">as.Date</span><span class="p">(</span><span class="s">&quot;1970-01-02&quot;</span><span class="p">))</span>
</span><span class='line'><span class="c1">## [1] 1</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Time</h3>

<ul>
<li>POSIXct is just a very large integer under the hood; it use a useful class when you want to store times in something like a data frame</li>
<li>POSIXlt is a list underneath and it stores a bunch of other useful information like the day of the week, day of the year, month, day of the month. If you subtract two dates represented with this class, you will get the number of days between those dates.</li>
</ul>


<p>There are a number of generic functions that work on dates and times</p>

<ul>
<li><em>weekdays</em>: give the day of the week</li>
<li><em>months</em>: give the month name</li>
<li><em>quarters</em>: give the quarter number (“Q1”, “Q2”, “Q3”, or “Q4”)</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>x <span class="o">&lt;-</span> <span class="kp">Sys.time</span><span class="p">()</span>
</span><span class='line'>x
</span><span class='line'><span class="c1">## [1] &quot;2013-01-24 22:04:14 EST&quot;</span>
</span><span class='line'>p <span class="o">&lt;-</span> <span class="kp">as.POSIXlt</span><span class="p">(</span>x<span class="p">)</span>
</span><span class='line'><span class="kp">names</span><span class="p">(</span><span class="kp">unclass</span><span class="p">(</span>p<span class="p">))</span>
</span><span class='line'><span class="c1">## [1] &quot;sec&quot; &quot;min&quot; &quot;hour&quot; &quot;mday&quot; &quot;mon&quot;</span>
</span><span class='line'><span class="c1">## [6] &quot;year&quot; &quot;wday&quot; &quot;yday&quot; &quot;isdst&quot;</span>
</span><span class='line'>p<span class="o">$</span>sec
</span><span class='line'><span class="c1">## [1] 14.34</span>
</span></code></pre></td></tr></table></div></figure>


<p>There is the <em>strptime</em> function in case your dates are written in a different format</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>datestring <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;January 10, 2012 10:40&quot;</span><span class="p">,</span> <span class="s">&quot;December 9, 2011 9:10&quot;</span><span class="p">)</span>
</span><span class='line'>x <span class="o">&lt;-</span> <span class="kp">strptime</span><span class="p">(</span>datestring<span class="p">,</span> <span class="s">&quot;%B %d, %Y %H:%M&quot;</span><span class="p">)</span>
</span><span class='line'>x
</span><span class='line'><span class="c1">## [1] &quot;2012-01-10 10:40:00 EST&quot; &quot;2011-12-09 09:10:00 EST&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Check ?strptime for the formatting string options.</p>

<h2>General functions</h2>

<p>quantile(pack_sum$count, probs = 0.99)</p>

<h2>dplyr</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'>result3 <span class="o">&lt;-</span>
</span><span class='line'>  cran <span class="o">%&gt;%</span>
</span><span class='line'>  group_by<span class="p">(</span>package<span class="p">)</span> <span class="o">%&gt;%</span>
</span><span class='line'>  summarize<span class="p">(</span>count <span class="o">=</span> n<span class="p">(),</span>
</span><span class='line'>            unique <span class="o">=</span> n_distinct<span class="p">(</span>ip_id<span class="p">),</span>
</span><span class='line'>            countries <span class="o">=</span> n_distinct<span class="p">(</span>country<span class="p">),</span>
</span><span class='line'>            avg_bytes <span class="o">=</span> <span class="kp">mean</span><span class="p">(</span>size<span class="p">)</span>
</span><span class='line'>  <span class="p">)</span> <span class="o">%&gt;%</span>
</span><span class='line'>  filter<span class="p">(</span>countries <span class="o">&gt;</span> <span class="m">60</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span><span class='line'>  arrange<span class="p">(</span>desc<span class="p">(</span>countries<span class="p">),</span> avg_bytes<span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Print result to console</span>
</span><span class='line'><span class="kp">print</span><span class="p">(</span>result3<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Summarize data</h2>

<p>head(x, n = 6L)
tail(x, n = 6L)
summary(object)
str(object)
quantile(x)
table(x): Cross Tabulation and Table Creation
colSums
rowSums
xtabs(Freq ~ Gender + Admit, data = DF): Builds a cross table with gender distinct values as rows, Admit distinct values as columns and the frequency as content of the table.
ftable(xtab): A more readable presentation of the cross tab when there is more than 2 dimensions required to show the data.
print( x, units=&ldquo;Mb&rdquo;)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Count positive values in every column</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">colSums</span><span class="p">(</span>df<span class="o">&gt;</span><span class="m">0</span><span class="p">)</span>
</span><span class='line'>col1 col2
</span><span class='line'>   <span class="m">4</span>   <span class="m">10</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Check existence</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="c1"># Check if there is at least one NA</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">any</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>df<span class="o">$</span>col1<span class="p">))</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">FALSE</span>
</span><span class='line'><span class="c1"># Check if col2 is always positive</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">all</span><span class="p">(</span>df<span class="o">$</span>col2 <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># Check if all values in the data frame are not NA</span>
</span><span class='line'><span class="o">&gt;</span> <span class="kp">all</span><span class="p">(</span><span class="kp">colSums</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>df<span class="p">))</span><span class="o">==</span><span class="m">0</span><span class="p">)</span>
</span><span class='line'><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Application</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='R'><span class='line'><span class="kn">library</span><span class="p">(</span>httr<span class="p">)</span>
</span><span class='line'><span class="kn">library</span><span class="p">(</span>httuv<span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 1. Find OAuth settings for github:</span>
</span><span class='line'><span class="c1">#    http://developer.github.com/v3/oauth/</span>
</span><span class='line'>oauth_endpoints<span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 2. Register an application at https://github.com/settings/applications;</span>
</span><span class='line'><span class="c1">#    Use any URL you would like for the homepage URL (http://github.com is fine)</span>
</span><span class='line'><span class="c1">#    and http://localhost:1410 as the callback url</span>
</span><span class='line'><span class="c1">#</span>
</span><span class='line'><span class="c1">#    Insert your client ID and secret below - if secret is omitted, it will</span>
</span><span class='line'><span class="c1">#    look it up in the GITHUB_CONSUMER_SECRET environmental variable.</span>
</span><span class='line'>myapp <span class="o">&lt;-</span> oauth_app<span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">,</span> <span class="s">&quot;56b637a5baffac62cad9&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 3. Get OAuth credentials</span>
</span><span class='line'>github_token <span class="o">&lt;-</span> oauth2.0_token<span class="p">(</span>oauth_endpoints<span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">),</span> myapp<span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># 4. Use API</span>
</span><span class='line'>gtoken <span class="o">&lt;-</span> config<span class="p">(</span>token <span class="o">=</span> github_token<span class="p">)</span>
</span><span class='line'>req <span class="o">&lt;-</span> with_config<span class="p">(</span>gtoken<span class="p">,</span> GET<span class="p">(</span><span class="s">&quot;https://api.github.com/rate_limit&quot;</span><span class="p">))</span>
</span><span class='line'>stop_for_status<span class="p">(</span>req<span class="p">)</span>
</span><span class='line'>content<span class="p">(</span>req<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


  
    <footer>
      <p class="meta">
        
        




<time class='entry-date' datetime='2014-09-12T11:30:00-05:00'><span class='date'><span class='date-month'>Sep</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:30 am</span></time>
        
      </p>
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://oscardelama.github.io/learning/r-programming/index.html" data-via="" data-counturl="http://oscardelama.github.io/learning/r-programming/index.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/11/first-inaugural-post/">First Inaugural Post</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Oscar de Lama -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
